<!DOCTYPE html><html lang="en" class="__className_e34cb4"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="https://github.com/gaearon.png"/><link rel="preload" as="image" href="https://imgur.com/ABDK4Ky.png"/><link rel="stylesheet" href="/_next/static/css/0f6647b39fdbcb3d.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/3c6c21fa7f32edf2.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f9d4d708579596e8.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-fdca05b8968262b2.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-da4818c833129d2a.js" async="" crossorigin=""></script><script src="/_next/static/chunks/472-44c3d350117a997d.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-74b5bca37634105e.js" async="" crossorigin=""></script><script src="/_next/static/chunks/569-52e5d813bbfa85ea.js" async=""></script><script src="/_next/static/chunks/app/layout-cfb37acb14684668.js" async=""></script><script src="/_next/static/chunks/app/%5Bslug%5D/layout-d3e08fbfdc858bf2.js" async=""></script><script src="/_next/static/chunks/app/%5Bslug%5D/page-798073576b23f3f1.js" async=""></script><title>npm audit: Broken by Design â€” overreacted</title><meta name="description" content="Found 99 vulnerabilities (84 moderately irrelevant, 15 highly irrelevant)"/><link rel="icon" href="/icon.png?e0852c1e2c7f0e65" type="image/png" sizes="329x329"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="mx-auto max-w-2xl bg-[--bg] px-5 py-12 text-[--text]"><header class="mb-14 flex flex-row place-content-between"><a class="__className_b47211 inline-block text-2xl font-black hover:scale-[1.02] scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="/"><span style="--myColor1:var(--pink);--myColor2:var(--purple);background-image:linear-gradient(45deg, var(--myColor1), var(--myColor2));background-clip:text;-webkit-background-clip:text;color:transparent;transition:--myColor1 0.2s ease-out, --myColor2 0.2s ease-in-out">overreacted</span></a><span class="relative top-[4px] italic">by<!-- --> <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://danabra.mov"><img alt="Dan Abramov" src="https://github.com/gaearon.png" class="relative -top-1 mx-1 inline h-8 w-8 rounded-full"/></a></span></header><main><article><h1 class="__className_b47211 text-[40px] font-black leading-[44px] text-[--title]">npm audit: Broken by Design</h1><p class="mt-2 text-[13px] text-gray-700 dark:text-gray-300">July 7, 2021</p><div class="markdown mt-10"><p>Security is important. Nobody wants to be the person advocating for less security. So nobody wants to say it. But somebody has to say it.</p>
<p>So I guess Iâ€™ll say it.</p>
<p><strong>The way <code>npm audit</code> works is broken. Its rollout as a default after every <code>npm install</code> was rushed, inconsiderate, and inadequate for the front-end tooling.</strong></p>
<p>Have you heard the story about <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://en.wikipedia.org/wiki/The_Boy_Who_Cried_Wolf">the boy who cried wolf?</a> Spoiler alert: the wolf eats the sheep. If we donâ€™t want our sheep to be eaten, we need better tools.</p>
<p>As of today, <code>npm audit</code> is a stain on the entire npm ecosystem. The best time to fix it was before rolling it out as a default. The next best time to fix it is now.</p>
<p>In this post, I will briefly outline how it works, why itâ€™s broken, and what changes Iâ€™m hoping to see.</p>
<hr/>
<p><em>Note: this article is written with a critical and somewhat snarky tone. I understand itâ€™s super hard to maintain massive projects like Node.js/npm, and that mistakes may take a while to become apparent. I am frustrated only at the situation, not at the people involved. I kept the snarky tone because the level of my frustration has increased over the years, and I donâ€™t want to pretend that the situation isnâ€™t as dire as it really is. Most of all I am frustrated to see all the people for whom this is the first programming experience, as well as all the people who are blocked from deploying their changes due to irrelevant warnings. I am excited that <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://twitter.com/bitandbang/status/1412803378279759872">this issue is being considered</a> and I will do my best to provide input on the proposed solutions! ğŸ’œ</em></p>
<hr/>
<h2>How does npm audit work?</h2>
<p><em><a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="#why-is-npm-audit-broken">Skip ahead</a> if you already know how it works.</em></p>
<p>Your Node.js application has a dependency tree. It might look like this:</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">your-app</span></span>
<span data-line=""><span style="color:#D6D9E0">  - view-library@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">  - design-system@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">  - model-layer@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">    - database-layer@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">      - network-utility@1.0.0</span></span></code></pre></div>
<p>Most likely, itâ€™s a lot deeper.</p>
<p>Now say thereâ€™s a vulnerability discovered in <code>network-utility@1.0.0</code>:</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">your-app</span></span>
<span data-line=""><span style="color:#D6D9E0">  - view-library@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">  - design-system@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">  - model-layer@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">    - database-layer@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">      - network-utility@1.0.0 (Vulnerable!)</span></span></code></pre></div>
<p>This gets published in a special registry that <code>npm</code> will access next time you run <code>npm audit</code>. Since npm v6+, youâ€™ll learn about this after every <code>npm install</code>:</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">1 vulnerabilities (0 moderate, 1 high)</span></span>
<span data-line=""><span style="color:#D6D9E0"></span></span>
<span data-line=""><span style="color:#D6D9E0">To address issues that do not require attention, run:</span></span>
<span data-line=""><span style="color:#D6D9E0">  npm audit fix</span></span>
<span data-line=""><span style="color:#D6D9E0"></span></span>
<span data-line=""><span style="color:#D6D9E0">To address all issues (including breaking changes), run:</span></span>
<span data-line=""><span style="color:#D6D9E0">  npm audit fix --force</span></span></code></pre></div>
<p>You run <code>npm audit fix</code>, and npm tries to install the latest <code>network-utility@1.0.1</code> with the fix in it. As long as <code>database-layer</code> specifies that it depends not on <em>exactly</em> on <code>network-utility@1.0.0</code> but some permissible range that includes <code>1.0.1</code>, the fix â€œjust worksâ€ and you get a working application:</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">your-app</span></span>
<span data-line=""><span style="color:#D6D9E0">  - view-library@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">  - design-system@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">  - model-layer@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">    - database-layer@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">      - network-utility@1.0.1 (Fixed!)</span></span></code></pre></div>
<p>Alternatively, maybe <code>database-layer@1.0.0</code> depends strictly on <code>network-utility@1.0.0</code>. In that case, the maintainer of <code>database-layer</code> needs to release a new version too, which would allow <code>network-utility@1.0.1</code> instead:</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">your-app</span></span>
<span data-line=""><span style="color:#D6D9E0">  - view-library@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">  - design-system@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">  - model-layer@1.0.0</span></span>
<span data-line=""><span style="color:#D6D9E0">    - database-layer@1.0.1 (Updated to allow the fix.)</span></span>
<span data-line=""><span style="color:#D6D9E0">      - network-utility@1.0.1 (Fixed!)</span></span></code></pre></div>
<p>Finally, if there is no way to gracefully upgrade the tree, you could try <code>npm audit fix --force</code>. This is supposed to be used if <code>database-layer</code> doesnâ€™t accept the new version of <code>network-utility</code> and <em>also</em> doesnâ€™t release an update to accept it. So youâ€™re kind of taking matters in your own hands, potentially risking breaking changes. Seems like a reasonable option to have.</p>
<p><strong>This is how <code>npm audit</code> is supposed to work in theory.</strong></p>
<p>As someone wise said, in theory there is no difference between theory and practice. But in practice there is. And thatâ€™s where all the fun starts.</p>
<h2>Why is npm audit broken?</h2>
<p>Letâ€™s see how this works in practice. Iâ€™ll use Create React App for my testing.</p>
<p>If youâ€™re not familiar with it, itâ€™s an integration facade that combines multiple other tools, including Babel, webpack, TypeScript, ESLint, PostCSS, Terser, and others. Create React App takes your JavaScript source code and converts it into a static HTML+JS+CSS folder. <strong>Notably, it does <em>not</em> produce a Node.js app.</strong></p>
<p>Letâ€™s create a new project!</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">npx create-react-app myapp</span></span></code></pre></div>
<p>Immediately upon creating a project, I see this:</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">found 5 vulnerabilities (3 moderate, 2 high)</span></span>
<span data-line=""><span style="color:#D6D9E0">  run `npm audit fix` to fix them, or `npm audit` for details</span></span></code></pre></div>
<p>Oh no, that seems bad! My just-created app is already vulnerable!</p>
<p>Or so npm tells me.</p>
<p>Letâ€™s run <code>npm audit</code> to see whatâ€™s up.</p>
<h3>First â€œvulnerabilityâ€</h3>
<p>Here is the first problem reported by <code>npm audit</code>:</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Moderate      â”‚ Regular Expression Denial of Service                         â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Package       â”‚ browserslist                                                 â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Patched in    â”‚ &gt;=4.16.5                                                     â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Dependency of â”‚ react-scripts                                                â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Path          â”‚ react-scripts &gt; react-dev-utils &gt; browserslist               â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ More info     â”‚ https://npmjs.com/advisories/1747                            â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div>
<p>Apparently, <code>browserslist</code> is vulnerable. Whatâ€™s that and how is it used? Create React App generates CSS files optimized for the browsers you target. For example, you can say you only target modern browsers in your <code>package.json</code>:</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="jsx" data-theme="default"><code data-language="jsx" data-theme="default" style="display:grid"><span data-line=""><span style="color:#CED2D6">  </span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">browserslist</span><span style="color:#C792EA">&quot;</span><span style="color:#CED2D6">: </span><span style="color:#C792EA">{</span></span>
<span data-line=""><span style="color:#CED2D6">    </span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">production</span><span style="color:#C792EA">&quot;</span><span style="color:#C792EA">:</span><span style="color:#CED2D6"> </span><span style="color:#C792EA">[</span></span>
<span data-line=""><span style="color:#CED2D6">      </span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">&gt;0.2%</span><span style="color:#C792EA">&quot;</span><span style="color:#C792EA">,</span></span>
<span data-line=""><span style="color:#CED2D6">      </span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">not dead</span><span style="color:#C792EA">&quot;</span><span style="color:#C792EA">,</span></span>
<span data-line=""><span style="color:#CED2D6">      </span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">not op_mini all</span><span style="color:#C792EA">&quot;</span></span>
<span data-line=""><span style="color:#CED2D6">    </span><span style="color:#C792EA">],</span></span>
<span data-line=""><span style="color:#CED2D6">    </span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">development</span><span style="color:#C792EA">&quot;</span><span style="color:#C792EA">:</span><span style="color:#CED2D6"> </span><span style="color:#C792EA">[</span></span>
<span data-line=""><span style="color:#CED2D6">      </span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">last 1 chrome version</span><span style="color:#C792EA">&quot;</span><span style="color:#C792EA">,</span></span>
<span data-line=""><span style="color:#CED2D6">      </span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">last 1 firefox version</span><span style="color:#C792EA">&quot;</span><span style="color:#C792EA">,</span></span>
<span data-line=""><span style="color:#CED2D6">      </span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">last 1 safari version</span><span style="color:#C792EA">&quot;</span></span>
<span data-line=""><span style="color:#CED2D6">    </span><span style="color:#C792EA">]</span></span>
<span data-line=""><span style="color:#CED2D6">  </span><span style="color:#C792EA">}</span></span></code></pre></div>
<p>Then it wonâ€™t include outdated flexbox hacks in the output. Since multiple tools rely on the same configuration format for the browsers you target, Create React App uses the shared <code>browserslist</code> package to parse the configuration file.</p>
<p>So whatâ€™s the vulnerability here? <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS">â€œRegular Expression Denial of Serviceâ€</a> means that there is a regex in <code>browserslist</code> that, with malicious input, could become very slow. So an attacker can craft a special configuration string that, when passed to <code>browserslist</code>, could slow it down exponentially. This sounds badâ€¦</p>
<p>Wait, what?! Letâ€™s remember how your app works. You have a configuration file <em>on your machine</em>. You <em>build</em> your project. You get static HTML+CSS+JS in a folder. You put it on static hosting. There is simply <strong>no way</strong> for your application user to affect your <code>package.json</code> configuration. <strong>This doesnâ€™t make any sense.</strong> If the attacker already has access to your machine and can change your configuration files, you have a much bigger problem than slow regular expressions!</p>
<p>Okay, so I guess this â€œModerateâ€ â€œvulnerabilityâ€ was neither moderate nor a vulnerability in the context of a project. Letâ€™s keep going.</p>
<p><strong>Verdict: this â€œvulnerabilityâ€ is absurd in this context.</strong></p>
<h3>Second â€œvulnerabilityâ€</h3>
<p>Here is the next issue <code>npm audit</code> has helpfully reported:</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Moderate      â”‚ Regular expression denial of service                         â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Package       â”‚ glob-parent                                                  â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Patched in    â”‚ &gt;=5.1.2                                                      â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Dependency of â”‚ react-scripts                                                â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Path          â”‚ react-scripts &gt; webpack-dev-server &gt; chokidar &gt; glob-parent  â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ More info     â”‚ https://npmjs.com/advisories/1751                            â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div>
<p>Letâ€™s look at the <code>webpack-dev-server &gt; chokidar &gt; glob-parent</code> dependency chain. Here, <code>webpack-dev-server</code> is a <strong>development-only</strong> server thatâ€™s used to quickly serve your app <strong>locally</strong>. It uses <code>chokidar</code> to watch your filesystem for changes (such as when you save a file in your editor). And it uses <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://www.npmjs.com/package/glob-parent"><code>glob-parent</code></a> in order to extract a part of the filesystem path from a filesystem watch pattern.</p>
<p>Unfortunately, <code>glob-parent</code> is vulnerable! If an attacker supplies a specially crafted filepath, it could make this function exponentially slow, which wouldâ€¦</p>
<p>Wait, what?! The development server is on your computer. The files are on your computer. The file watcher is using the configuration that <em>you</em> have specified. None of this logic leaves your computer. If your attacker is sophisticated enough to log into <em>your machine</em> during local development, the last thing theyâ€™ll want to do is to craft special long filepaths to slow down your development. Theyâ€™ll want to steal your secrets instead. <strong>So this whole threat is absurd.</strong></p>
<p>Looks like this â€œModerateâ€ â€œvulnerabilityâ€ was neither moderate nor a vulnerability in the context of a project.</p>
<p><strong>Verdict: this â€œvulnerabilityâ€ is absurd in this context.</strong></p>
<p>###Â Third â€œvulnerabilityâ€</p>
<p>Letâ€™s have a look at this one:</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Moderate      â”‚ Regular expression denial of service                         â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Package       â”‚ glob-parent                                                  â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Patched in    â”‚ &gt;=5.1.2                                                      â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Dependency of â”‚ react-scripts                                                â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Path          â”‚ react-scripts &gt; webpack &gt; watchpack &gt; watchpack-chokidar2 &gt;  â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚               â”‚ chokidar &gt; glob-parent                                       â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ More info     â”‚ https://npmjs.com/advisories/1751                            â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div>
<p>Wait, itâ€™s the same thing as above, but through a different dependency path.</p>
<p><strong>Verdict: this â€œvulnerabilityâ€ is absurd in this context.</strong></p>
<h3>Fourth â€œvulnerabilityâ€</h3>
<p>Oof, this one looks really bad! <strong><code>npm audit</code> has the nerve to show it in red color:</strong></p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ High          â”‚ Denial of Service                                            â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Package       â”‚ css-what                                                     â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Patched in    â”‚ &gt;=5.0.1                                                      â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Dependency of â”‚ react-scripts                                                â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Path          â”‚ react-scripts &gt; @svgr/webpack &gt; @svgr/plugin-svgo &gt; svgo &gt;   â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚               â”‚ css-select &gt; css-what                                        â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ More info     â”‚ https://npmjs.com/advisories/1754                            â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div>
<p>What is this â€œhighâ€ severity issue? â€œDenial of service.â€ I donâ€™t want service to be denied! That would be really badâ€¦ Unlessâ€¦</p>
<p>Letâ€™s look at the <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://www.npmjs.com/advisories/1754">issue</a>. Apparently <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://www.npmjs.com/package/css-what"><code>css-what</code></a>, which is a parser for CSS selectors, can be slow with specially crafted input. This parser is used by a plugin that generates React components from SVG files.</p>
<p>So what this means is that if the attacker takes control of my development machine or my source code, they put a special SVG file that will have a specially crafted CSS selector in it, which will make my build slow. That checks outâ€¦</p>
<p>Wait, what?! If the attacker can modify my appâ€™s source code, theyâ€™ll probably just put a bitcoin miner in it. Why would they add SVG files into my app, unless you can mine bitcoins with SVG? Again, this doesnâ€™t make <em>any</em> sense.</p>
<p><strong>Verdict: this â€œvulnerabilityâ€ is absurd in this context.</strong></p>
<p>So much for the â€œhighâ€ severity.</p>
<h3>Fifth â€œvulnerabilityâ€</h3>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="" data-theme="default"><code data-language="" data-theme="default" style="display:grid"><span data-line=""><span style="color:#D6D9E0">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ High          â”‚ Denial of Service                                            â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Package       â”‚ css-what                                                     â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Patched in    â”‚ &gt;=5.0.1                                                      â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Dependency of â”‚ react-scripts                                                â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ Path          â”‚ react-scripts &gt; optimize-css-assets-webpack-plugin &gt; cssnano â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚               â”‚ &gt; cssnano-preset-default &gt; postcss-svgo &gt; svgo &gt; css-select  â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚               â”‚ &gt; css-what                                                   â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span></span>
<span data-line=""><span style="color:#D6D9E0">â”‚ More info     â”‚ https://npmjs.com/advisories/1754                            â”‚</span></span>
<span data-line=""><span style="color:#D6D9E0"></span></span>
<span data-line=""><span style="color:#D6D9E0">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div>
<p>This is just the same exact thing as above.</p>
<p><strong>Verdict: this â€œvulnerabilityâ€ is absurd in this context.</strong></p>
<h3>Shall we keep going?</h3>
<p>So far the boy has cried wolf five times. Two of them are duplicates. The rest are absurd non-issues in the context of how these dependencies are used.</p>
<p>Five false alarms wouldnâ€™t be too bad.</p>
<p><strong>Unfortunately, there are hundreds.</strong></p>
<p>Here are a <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/facebook/create-react-app/issues/11053">few</a> <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/facebook/create-react-app/issues/11092">typical</a> threads, but there are many more <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/facebook/create-react-app/issues/11174">linked from here</a>:</p>
<img src="https://imgur.com/ABDK4Ky.png" alt="Screenshot of many GH threads"/>
<p><strong>Iâ€™ve spent several hours looking through every <code>npm audit</code> issue reported to us over the last several months, and they all appear to be false positives in the context of a build tool dependency like Create React App.</strong></p>
<p>Of course, they are possible to fix. We could relax some of the top-level dependencies to not be exact (leading to bugs in patches slipping in more often). We could make more releases just to stay ahead of this security theater.</p>
<p>But this is inadequate. Imagine if your tests failed 99% of the times for bogus reasons! This wastes person-decades of effort and makes everyone miserable:</p>
<ul>
<li><strong>It makes beginners miserable</strong> because they run into this as their first programming experience in the Node.js ecosystem. As if installing Node.js/npm was not confusing enough (good luck if you added <code>sudo</code> somewhere because a tutorial told you), this is what theyâ€™re greeted with when they try examples online or even when they create a project. A beginner doesnâ€™t know what a RegExp <em>is</em>. Of course they donâ€™t have the know-how to be able to tell whether a RegExp DDoS or prototype pollution is something to worry about when theyâ€™re using a build tool to produce a static HTML+CSS+JS site.</li>
<li><strong>It makes experienced app developers miserable</strong> because they have to either waste time doing obviously unnecessary work, or fight with their security departments trying to explain how <code>npm audit</code> is a broken tool unsuitable for real security audits <em>by design</em>. Yeah, somehow it was made a default in this state.</li>
<li><strong>It makes maintainers miserable</strong> because instead of working on bugfixes and improvements, they have to pull in bogus vulnerability fixes that canâ€™t possibly affect their project because otherwise their users are frustrated, scared, or both.</li>
<li><strong>Someday, it will make our users miserable</strong> because we have trained an entire generation of developers to either not understand the warnings due to being overwhelmed, or to simply <em>ignore</em> them because they always show up but the experienced developers (correctly) tell them there is no real issue in each case.</li>
</ul>
<p>It doesnâ€™t help that <code>npm audit fix</code> (which the tool suggests using) is buggy. I ran <code>npm audit fix --force</code> today and it <strong>downgraded</strong> the main dependency to a three-year-old version with actual <em>real</em> vulnerabilities. Thanks, npm, great job.</p>
<h2>What next?</h2>
<p>I donâ€™t know how to solve this. But I didnâ€™t add this system in the first place, so Iâ€™m probably not the best person to solve it. All I know is itâ€™s horribly broken.</p>
<p>There are a few possible solutions that I have seen.</p>
<ul>
<li><strong>Move dependency to <code>devDependencies</code> if it doesnâ€™t run in production.</strong> This offers a way to specify that some dependency isnâ€™t used in production code paths, so there is no risk associated with it. However, this solution is flawed:<!-- -->
<ul>
<li><code>npm audit</code> still warns for development dependencies by default. You have to <em>know</em> to run <code>npm audit --production</code> to not see the warnings from development dependencies. People who know to do that probably already donâ€™t trust it anyway. This also doesnâ€™t help beginners or people working at companies whose security departments want to audit everything.</li>
<li><code>npm install</code> still uses information from plain <code>npm audit</code>, so you will effectively still see all the false positives every time you install something.</li>
<li>As any security professional will tell you, development dependencies actually <em>are</em> an attack vector, and perhaps one of the most dangerous ones because itâ€™s so hard to detect and the code runs with high trust assumptions. <strong>This is why the situation is so bad in particular: any real issue gets buried below dozens of non-issues that <code>npm audit</code> is training people and maintainers to ignore.</strong> Itâ€™s only a matter of time until this happens.</li>
</ul>
</li>
<li><strong>Inline all dependencies during publish.</strong> This is what Iâ€™m increasingly seeing packages similar to Create React App do. For example, both <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://unpkg.com/browse/vite@2.4.1/dist/node/">Vite</a> and <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://unpkg.com/browse/next@11.0.1/dist/">Next.js</a> simply bundle their dependencies directly in the package instead of relying on the npm <code>node_modules</code> mechanism. From a maintainerâ€™s point of view, <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/vitejs/vite/blob/main/CONTRIBUTING.md#notes-on-dependencies">the upsides are clear</a>: you get faster boot time, smaller downloads, and â€” as a nice bonus â€” no bogus vulnerability reports from your users. Itâ€™s a neat way to game the system but Iâ€™m worried about the incentives npm is creating for the ecosystem. Inlining dependencies kind of goes against the whole point of npm.</li>
<li><strong>Offer some way to counter-claim vulnerability reports.</strong> The problem is not entirely unknown to Node.js and npm, of course. Different people have worked on different suggestions to fix it. For example, there is a <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/npm/rfcs/pull/18">proposal</a> for a way to manually resolve audit warnings so that they donâ€™t display again. However, this still places the burden on app users, which donâ€™t necessarily have context on what vulnerabilities deeper in the tree are real or bogus. I also have a <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://twitter.com/dan_abramov/status/1412380714012594178">proposal</a>: I need a way to mark for my users that a certain vulnerability canâ€™t possibly affect them. If you donâ€™t trust my judgement, why are you running my code on your computer? Iâ€™d be happy to discuss other options too.</li>
</ul>
<p>The root of the issue is that npm added a default behavior that, in many situations, leads to a 99%+ false positive rate, creates an incredibly confusing first programming experience, makes people fight with security departments, makes maintainers never want to deal with Node.js ecosystem ever again, and at some point will lead to actually bad vulnerabilities slipping in unnnoticed.</p>
<p>Something has to be done.</p>
<p>In the meantime, I am planning to close all GitHub issues from <code>npm audit</code> that I see going forward that donâ€™t correspond to a <em>real</em> vulnerability that can affect the project. I invite other maintainers to adopt the same policy. This will create frustration for our users, but the core of the issue is with npm. I am done with this security theater. Node.js/npm have all the power to fix the problem. I am in contact with them, and I hope to see this problem prioritized.</p>
<p>Today, <code>npm audit</code> is broken by design.</p>
<p>Beginners, experienced developers, maintainers, security departments, and, most importantly â€” our users â€” deserve better.</p><hr/><p><a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://x.com/search?q=https%3A%2F%2Foverreacted.io%2Fnpm-audit-broken-by-design%2F">Discuss on ğ•</a>Â Â Â·Â Â <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/gaearon/overreacted.io/edit/main/public/npm-audit-broken-by-design/index.md">Edit on GitHub</a></p></div></article><footer class="mt-12"><a class="__className_b47211 inline-block text-2xl font-black hover:scale-[1.02] scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="/"><span style="--myColor1:var(--pink);--myColor2:var(--purple);background-image:linear-gradient(45deg, var(--myColor1), var(--myColor2));background-clip:text;-webkit-background-clip:text;color:transparent;transition:--myColor1 0.2s ease-out, --myColor2 0.2s ease-in-out">overreacted</span></a></footer></main><script src="/_next/static/chunks/webpack-fdca05b8968262b2.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/0f6647b39fdbcb3d.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/3c6c21fa7f32edf2.css\",\"style\",{\"crossOrigin\":\"\"}]\n4:HL[\"/_next/static/css/f9d4d708579596e8.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"5:I[3728,[],\"\"]\n7:I[9928,[],\"\"]\n8:I[4982,[\"569\",\"static/chunks/569-52e5d813bbfa85ea.js\",\"185\",\"static/chunks/app/layout-cfb37acb14684668.js\"],\"\"]\n9:I[8256,[\"569\",\"static/chunks/569-52e5d813bbfa85ea.js\",\"64\",\"static/chunks/app/%5Bslug%5D/layout-d3e08fbfdc858bf2.js\"],\"\"]\na:I[2008,[\"569\",\"static/chunks/569-52e5d813bbfa85ea.js\",\"42\",\"static/chunks/app/%5Bslug%5D/page-798073576b23f3f1.js\"],\"\"]\nb:I[6954,[],\"\"]\nc:I[7264,[],\"\"]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0f6647b39fdbcb3d.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"iWWiOWlg3tDiHen4DuUO-\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/npm-audit-broken-by-design/\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"npm-audit-broken-by-design\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"npm-audit-broken-by-design\\\"}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L6\"],\"globalErrorComponent\":\"$7\",\"children\":[null,[\"$\",\"$L8\",null,{\"children\":[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__className_e34cb4\",\"children\":[\"$\",\"body\",null,{\"className\":\"mx-auto max-w-2xl bg-[--bg] px-5 py-12 text-[--text]\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-14 flex flex-row place-content-between\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"span\",null,{\"className\":\"relative top-[4px] italic\",\"children\":[\"by\",\" \",[\"$\",\"$La\",null,{\"href\":\"https://danabra.mov\",\"target\":\"_blank\",\"children\":[\"$\",\"img\",null,{\"alt\":\"Dan Abramov\",\"src\":\"https://github.com/gaearon.png\",\"className\":\"relative -top-1 mx-1 inline h-8 w-8 rounded-full\"}]}]]}]]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"article\",null,{\"className\":\"markdown\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"__className_b47211 text-[40px] font-black leading-[44px] text-[--title]\",\"children\":\"Not found\"}],[\"$\",\"div\",null,{\"className\":\"markdown mt-10\",\"children\":[[\"$\",\"p\",null,{\"children\":\"This page doesn't exist (yet?)\"}],[\"$\",\"p\",null,{\"children\":[\"I recently rewrote the site so maybe something broke. Please\",\" \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/gaearon/overreacted.io/issues/796\",\"children\":\"complain here.\"}]]}],[\"$\",\"p\",null,{\"children\":[\"If you're looking for translated posts, they're not on the site anymore but you can find\",\" \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/gaearon/overreacted.io/tree/archive/src/pages\",\"children\":\"an archive of them here.\"}]]}],[\"$\",\"p\",null,{\"children\":\"Hope you'll find what you're looking for.\"}]]}]]}],\"notFoundStyles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f9d4d708579596e8.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],\"childProp\":{\"current\":[null,[[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",[\"slug\",\"npm-audit-broken-by-design\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Ld\",\"$Le\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"npm-audit-broken-by-design\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f9d4d708579596e8.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}],[\"$\",\"footer\",null,{\"className\":\"mt-12\",\"children\":[\"$\",\"$L9\",null,{}]}]],null],\"segment\":[\"slug\",\"npm-audit-broken-by-design\",\"d\"]},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3c6c21fa7f32edf2.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]}]]}]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"article\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"__className_b47211 text-[40px] font-black leading-[44px] text-[--title]\",\"children\":\"npm audit: Broken by Design\"}],[\"$\",\"p\",null,{\"className\":\"mt-2 text-[13px] text-gray-700 dark:text-gray-300\",\"children\":\"July 7, 2021\"}],[\"$\",\"div\",null,{\"className\":\"markdown mt-10\",\"children\":[\"$Lf\",[\"$\",\"hr\",null,{}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"$La\",null,{\"href\":\"https://x.com/search?q=https%3A%2F%2Foverreacted.io%2Fnpm-audit-broken-by-design%2F\",\"children\":\"Discuss on ğ•\"}],\"Â Â Â·Â Â \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/gaearon/overreacted.io/edit/main/public/npm-audit-broken-by-design/index.md\",\"children\":\"Edit on GitHub\"}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"p\",null,{\"children\":\"Security is important. Nobody wants to be the person advocating for less security. So nobody wants to say it. But somebody has to say it.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"So I guess Iâ€™ll say it.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":[\"The way \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" works is broken. Its rollout as a default after every \",[\"$\",\"code\",null,{\"children\":\"npm install\"}],\" was rushed, inconsiderate, and inadequate for the front-end tooling.\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Have you heard the story about \",[\"$\",\"$La\",null,{\"href\":\"https://en.wikipedia.org/wiki/The_Boy_Who_Cried_Wolf\",\"children\":\"the boy who cried wolf?\"}],\" Spoiler alert: the wolf eats the sheep. If we donâ€™t want our sheep to be eaten, we need better tools.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"As of today, \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" is a stain on the entire npm ecosystem. The best time to fix it was before rolling it out as a default. The next best time to fix it is now.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In this post, I will briefly outline how it works, why itâ€™s broken, and what changes Iâ€™m hoping to see.\"}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":[\"Note: this article is written with a critical and somewhat snarky tone. I understand itâ€™s super hard to maintain massive projects like Node.js/npm, and that mistakes may take a while to become apparent. I am frustrated only at the situation, not at the people involved. I kept the snarky tone because the level of my frustration has increased over the years, and I donâ€™t want to pretend that the situation isnâ€™t as dire as it really is. Most of all I am frustrated to see all the people for whom this is the first programming experience, as well as all the people who are blocked from deploying their changes due to irrelevant warnings. I am excited that \",[\"$\",\"$La\",null,{\"href\":\"https://twitter.com/bitandbang/status/1412803378279759872\",\"children\":\"this issue is being considered\"}],\" and I will do my best to provide input on the proposed solutions! ğŸ’œ\"]}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"How does npm audit work?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":[[\"$\",\"$La\",null,{\"href\":\"#why-is-npm-audit-broken\",\"children\":\"Skip ahead\"}],\" if you already know how it works.\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Your Node.js application has a dependency tree. It might look like this:\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"your-app\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - view-library@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - design-system@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - model-layer@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"    - database-layer@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"      - network-utility@1.0.0\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Most likely, itâ€™s a lot deeper.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Now say thereâ€™s a vulnerability discovered in \",[\"$\",\"code\",null,{\"children\":\"network-utility@1.0.0\"}],\":\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"your-app\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - view-library@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - design-system@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - model-layer@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"    - database-layer@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"      - network-utility@1.0.0 (Vulnerable!)\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"This gets published in a special registry that \",[\"$\",\"code\",null,{\"children\":\"npm\"}],\" will access next time you run \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\". Since npm v6+, youâ€™ll learn about this after every \",[\"$\",\"code\",null,{\"children\":\"npm install\"}],\":\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"1 vulnerabilities (0 moderate, 1 high)\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"}}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"To address issues that do not require attention, run:\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  npm audit fix\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"}}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"To address all issues (including breaking changes), run:\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  npm audit fix --force\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"You run \",[\"$\",\"code\",null,{\"children\":\"npm audit fix\"}],\", and npm tries to install the latest \",[\"$\",\"code\",null,{\"children\":\"network-utility@1.0.1\"}],\" with the fix in it. As long as \",[\"$\",\"code\",null,{\"children\":\"database-layer\"}],\" specifies that it depends not on \",[\"$\",\"em\",null,{\"children\":\"exactly\"}],\" on \",[\"$\",\"code\",null,{\"children\":\"network-utility@1.0.0\"}],\" but some permissible range that includes \",[\"$\",\"code\",null,{\"children\":\"1.0.1\"}],\", the fix â€œjust worksâ€ and you get a working application:\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"your-app\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - view-library@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - design-system@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - model-layer@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"    - database-layer@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"      - network-utility@1.0.1 (Fixed!)\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Alternatively, maybe \",[\"$\",\"code\",null,{\"children\":\"database-layer@1.0.0\"}],\" depends strictly on \",[\"$\",\"code\",null,{\"children\":\"network-utility@1.0.0\"}],\". In that case, the maintainer of \",[\"$\",\"code\",null,{\"children\":\"database-layer\"}],\" needs to release a new version too, which would allow \",[\"$\",\"code\",null,{\"children\":\"network-utility@1.0.1\"}],\" instead:\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"your-app\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - view-library@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - design-system@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  - model-layer@1.0.0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"    - database-layer@1.0.1 (Updated to allow the fix.)\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"      - network-utility@1.0.1 (Fixed!)\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Finally, if there is no way to gracefully upgrade the tree, you could try \",[\"$\",\"code\",null,{\"children\":\"npm audit fix --force\"}],\". This is supposed to be used if \",[\"$\",\"code\",null,{\"children\":\"database-layer\"}],\" doesnâ€™t accept the new version of \",[\"$\",\"code\",null,{\"children\":\"network-utility\"}],\" and \",[\"$\",\"em\",null,{\"children\":\"also\"}],\" doesnâ€™t release an update to accept it. So youâ€™re kind of taking matters in your own hands, potentially risking breaking changes. Seems like a reasonable option to have.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":[\"This is how \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" is supposed to work in theory.\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"As someone wise said, in theory there is no difference between theory and practice. But in practice there is. And thatâ€™s where all the fun starts.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Why is npm audit broken?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Letâ€™s see how this works in practice. Iâ€™ll use Create React App for my testing.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If youâ€™re not familiar with it, itâ€™s an integration facade that combines multiple other tools, including Babel, webpack, TypeScript, ESLint, PostCSS, Terser, and others. Create React App takes your JavaScript source code and converts it into a static HTML+JS+CSS folder. \",[\"$\",\"strong\",null,{\"children\":[\"Notably, it does \",[\"$\",\"em\",null,{\"children\":\"not\"}],\" produce a Node.js app.\"]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Letâ€™s create a new project!\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"npx create-react-app myapp\"}]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Immediately upon creating a project, I see this:\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"found 5 vulnerabilities (3 moderate, 2 high)\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"  run `npm audit fix` to fix them, or `npm audit` for details\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Oh no, that seems bad! My just-created app is already vulnerable!\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Or so npm tells me.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Letâ€™s run \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" to see whatâ€™s up.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"First â€œvulnerabilityâ€\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Here is the first problem reported by \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\":\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Moderate      â”‚ Regular Expression Denial of Service                         â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Package       â”‚ browserslist                                                 â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Patched in    â”‚ \u003e=4.16.5                                                     â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Dependency of â”‚ react-scripts                                                â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Path          â”‚ react-scripts \u003e react-dev-utils \u003e browserslist               â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ More info     â”‚ https://npmjs.com/advisories/1747                            â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Apparently, \",[\"$\",\"code\",null,{\"children\":\"browserslist\"}],\" is vulnerable. Whatâ€™s that and how is it used? Create React App generates CSS files optimized for the browsers you target. For example, you can say you only target modern browsers in your \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\":\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"  \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"browserslist\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"{\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"production\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"[\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"      \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"\u003e0.2%\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"      \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"not dead\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"      \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"not op_mini all\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"],\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"development\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"[\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"      \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"last 1 chrome version\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"      \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"last 1 firefox version\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"      \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"last 1 safari version\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"  \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"}\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Then it wonâ€™t include outdated flexbox hacks in the output. Since multiple tools rely on the same configuration format for the browsers you target, Create React App uses the shared \",[\"$\",\"code\",null,{\"children\":\"browserslist\"}],\" package to parse the configuration file.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"So whatâ€™s the vulnerability here? \",[\"$\",\"$La\",null,{\"href\":\"https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS\",\"children\":\"â€œRegular Expression Denial of Serviceâ€\"}],\" means that there is a regex in \",[\"$\",\"code\",null,{\"children\":\"browserslist\"}],\" that, with malicious input, could become very slow. So an attacker can craft a special configuration string that, when passed to \",[\"$\",\"code\",null,{\"children\":\"browserslist\"}],\", could slow it down exponentially. This sounds badâ€¦\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Wait, what?! Letâ€™s remember how your app works. You have a configuration file \",[\"$\",\"em\",null,{\"children\":\"on your machine\"}],\". You \",[\"$\",\"em\",null,{\"children\":\"build\"}],\" your project. You get static HTML+CSS+JS in a folder. You put it on static hosting. There is simply \",[\"$\",\"strong\",null,{\"children\":\"no way\"}],\" for your application user to affect your \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" configuration. \",[\"$\",\"strong\",null,{\"children\":\"This doesnâ€™t make any sense.\"}],\" If the attacker already has access to your machine and can change your configuration files, you have a much bigger problem than slow regular expressions!\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Okay, so I guess this â€œModerateâ€ â€œvulnerabilityâ€ was neither moderate nor a vulnerability in the context of a project. Letâ€™s keep going.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Verdict: this â€œvulnerabilityâ€ is absurd in this context.\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Second â€œvulnerabilityâ€\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Here is the next issue \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" has helpfully reported:\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Moderate      â”‚ Regular expression denial of service                         â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Package       â”‚ glob-parent                                                  â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Patched in    â”‚ \u003e=5.1.2                                                      â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Dependency of â”‚ react-scripts                                                â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Path          â”‚ react-scripts \u003e webpack-dev-server \u003e chokidar \u003e glob-parent  â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ More info     â”‚ https://npmjs.com/advisories/1751                            â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Letâ€™s look at the \",[\"$\",\"code\",null,{\"children\":\"webpack-dev-server \u003e chokidar \u003e glob-parent\"}],\" dependency chain. Here, \",[\"$\",\"code\",null,{\"children\":\"webpack-dev-server\"}],\" is a \",[\"$\",\"strong\",null,{\"children\":\"development-only\"}],\" server thatâ€™s used to quickly serve your app \",[\"$\",\"strong\",null,{\"children\":\"locally\"}],\". It uses \",[\"$\",\"code\",null,{\"children\":\"chokidar\"}],\" to watch your filesystem for changes (such as when you save a file in your editor). And it uses \",[\"$\",\"$La\",null,{\"href\":\"https://www.npmjs.com/package/glob-parent\",\"children\":[\"$\",\"code\",null,{\"children\":\"glob-parent\"}]}],\" in order to extract a part of the filesystem path from a filesystem watch pattern.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Unfortunately, \",[\"$\",\"code\",null,{\"children\":\"glob-parent\"}],\" is vulnerable! If an attacker supplies a specially crafted filepath, it could make this function exponentially slow, which wouldâ€¦\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Wait, what?! The development server is on your computer. The files are on your computer. The file watcher is using the configuration that \",[\"$\",\"em\",null,{\"children\":\"you\"}],\" have specified. None of this logic leaves your computer. If your attacker is sophisticated enough to log into \",[\"$\",\"em\",null,{\"children\":\"your machine\"}],\" during local development, the last thing theyâ€™ll want to do is to craft special long filepaths to slow down your development. Theyâ€™ll want to steal your secrets instead. \",[\"$\",\"strong\",null,{\"children\":\"So this whole threat is absurd.\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Looks like this â€œModerateâ€ â€œvulnerabilityâ€ was neither moderate nor a vulnerability in the context of a project.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Verdict: this â€œvulnerabilityâ€ is absurd in this context.\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"###Â Third â€œvulnerabilityâ€\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Letâ€™s have a look at this one:\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Moderate      â”‚ Regular expression denial of service                         â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Package       â”‚ glob-parent                                                  â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Patched in    â”‚ \u003e=5.1.2                                                      â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Dependency of â”‚ react-scripts                                                â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Path          â”‚ react-scripts \u003e webpack \u003e watchpack \u003e watchpack-chokidar2 \u003e  â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚               â”‚ chokidar \u003e glob-parent                                       â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ More info     â”‚ https://npmjs.com/advisories/1751                            â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Wait, itâ€™s the same thing as above, but through a different dependency path.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Verdict: this â€œvulnerabilityâ€ is absurd in this context.\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Fourth â€œvulnerabilityâ€\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Oof, this one looks really bad! \",[\"$\",\"strong\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" has the nerve to show it in red color:\"]}]]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ High          â”‚ Denial of Service                                            â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Package       â”‚ css-what                                                     â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Patched in    â”‚ \u003e=5.0.1                                                      â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Dependency of â”‚ react-scripts                                                â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Path          â”‚ react-scripts \u003e @svgr/webpack \u003e @svgr/plugin-svgo \u003e svgo \u003e   â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚               â”‚ css-select \u003e css-what                                        â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ More info     â”‚ https://npmjs.com/advisories/1754                            â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"What is this â€œhighâ€ severity issue? â€œDenial of service.â€ I donâ€™t want service to be denied! That would be really badâ€¦ Unlessâ€¦\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Letâ€™s look at the \",[\"$\",\"$La\",null,{\"href\":\"https://www.npmjs.com/advisories/1754\",\"children\":\"issue\"}],\". Apparently \",[\"$\",\"$La\",null,{\"href\":\"https://www.npmjs.com/package/css-what\",\"children\":[\"$\",\"code\",null,{\"children\":\"css-what\"}]}],\", which is a parser for CSS selectors, can be slow with specially crafted input. This parser is used by a plugin that generates React components from SVG files.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"So what this means is that if the attacker takes control of my development machine or my source code, they put a special SVG file that will have a specially crafted CSS selector in it, which will make my build slow. That checks outâ€¦\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Wait, what?! If the attacker can modify my appâ€™s source code, theyâ€™ll probably just put a bitcoin miner in it. Why would they add SVG files into my app, unless you can mine bitcoins with SVG? Again, this doesnâ€™t make \",[\"$\",\"em\",null,{\"children\":\"any\"}],\" sense.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Verdict: this â€œvulnerabilityâ€ is absurd in this context.\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"So much for the â€œhighâ€ severity.\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Fifth â€œvulnerabilityâ€\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ High          â”‚ Denial of Service                                            â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Package       â”‚ css-what                                                     â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Patched in    â”‚ \u003e=5.0.1                                                      â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Dependency of â”‚ react-scripts                                                â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ Path          â”‚ react-scripts \u003e optimize-css-assets-webpack-plugin \u003e cssnano â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚               â”‚ \u003e cssnano-preset-default \u003e postcss-svgo \u003e svgo \u003e css-select  â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚               â”‚ \u003e css-what                                                   â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â”‚ More info     â”‚ https://npmjs.com/advisories/1754                            â”‚\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"}}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#D6D9E0\"},\"children\":\"â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This is just the same exact thing as above.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Verdict: this â€œvulnerabilityâ€ is absurd in this context.\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Shall we keep going?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"So far the boy has cried wolf five times. Two of them are duplicates. The rest are absurd non-issues in the context of how these dependencies are used.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Five false alarms wouldnâ€™t be too bad.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Unfortunately, there are hundreds.\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Here are a \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/facebook/create-react-app/issues/11053\",\"children\":\"few\"}],\" \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/facebook/create-react-app/issues/11092\",\"children\":\"typical\"}],\" threads, but there are many more \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/facebook/create-react-app/issues/11174\",\"children\":\"linked from here\"}],\":\"]}],\"\\n\",[\"$\",\"img\",null,{\"src\":\"https://imgur.com/ABDK4Ky.png\",\"alt\":\"Screenshot of many GH threads\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":[\"Iâ€™ve spent several hours looking through every \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" issue reported to us over the last several months, and they all appear to be false positives in the context of a build tool dependency like Create React App.\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Of course, they are possible to fix. We could relax some of the top-level dependencies to not be exact (leading to bugs in patches slipping in more often). We could make more releases just to stay ahead of this security theater.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"But this is inadequate. Imagine if your tests failed 99% of the times for bogus reasons! This wastes person-decades of effort and makes everyone miserable:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"It makes beginners miserable\"}],\" because they run into this as their first programming experience in the Node.js ecosystem. As if installing Node.js/npm was not confusing enough (good luck if you added \",[\"$\",\"code\",null,{\"children\":\"sudo\"}],\" somewhere because a tutorial told you), this is what theyâ€™re greeted with when they try examples online or even when they create a project. A beginner doesnâ€™t know what a RegExp \",[\"$\",\"em\",null,{\"children\":\"is\"}],\". Of course they donâ€™t have the know-how to be able to tell whether a RegExp DDoS or prototype pollution is something to worry about when theyâ€™re using a build tool to produce a static HTML+CSS+JS site.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"It makes experienced app developers miserable\"}],\" because they have to either waste time doing obviously unnecessary work, or fight with their security departments trying to explain how \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" is a broken tool unsuitable for real security audits \",[\"$\",\"em\",null,{\"children\":\"by design\"}],\". Yeah, somehow it was made a default in this state.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"It makes maintainers miserable\"}],\" because instead of working on bugfixes and improvements, they have to pull in bogus vulnerability fixes that canâ€™t possibly affect their project because otherwise their users are frustrated, scared, or both.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Someday, it will make our users miserable\"}],\" because we have trained an entire generation of developers to either not understand the warnings due to being overwhelmed, or to simply \",[\"$\",\"em\",null,{\"children\":\"ignore\"}],\" them because they always show up but the experienced developers (correctly) tell them there is no real issue in each case.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"It doesnâ€™t help that \",[\"$\",\"code\",null,{\"children\":\"npm audit fix\"}],\" (which the tool suggests using) is buggy. I ran \",[\"$\",\"code\",null,{\"children\":\"npm audit fix --force\"}],\" today and it \",[\"$\",\"strong\",null,{\"children\":\"downgraded\"}],\" the main dependency to a three-year-old version with actual \",[\"$\",\"em\",null,{\"children\":\"real\"}],\" vulnerabilities. Thanks, npm, great job.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"What next?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"I donâ€™t know how to solve this. But I didnâ€™t add this system in the first place, so Iâ€™m probably not the best person to solve it. All I know is itâ€™s horribly broken.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"There are a few possible solutions that I have seen.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Move dependency to \",[\"$\",\"code\",null,{\"children\":\"devDependencies\"}],\" if it doesnâ€™t run in production.\"]}],\" This offers a way to specify that some dependency isnâ€™t used in production code paths, so there is no risk associated with it. However, this solution is flawed:\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" still warns for development dependencies by default. You have to \",[\"$\",\"em\",null,{\"children\":\"know\"}],\" to run \",[\"$\",\"code\",null,{\"children\":\"npm audit --production\"}],\" to not see the warnings from development dependencies. People who know to do that probably already donâ€™t trust it anyway. This also doesnâ€™t help beginners or people working at companies whose security departments want to audit everything.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"npm install\"}],\" still uses information from plain \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\", so you will effectively still see all the false positives every time you install something.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"As any security professional will tell you, development dependencies actually \",[\"$\",\"em\",null,{\"children\":\"are\"}],\" an attack vector, and perhaps one of the most dangerous ones because itâ€™s so hard to detect and the code runs with high trust assumptions. \",[\"$\",\"strong\",null,{\"children\":[\"This is why the situation is so bad in particular: any real issue gets buried below dozens of non-issues that \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" is training people and maintainers to ignore.\"]}],\" Itâ€™s only a matter of time until this happens.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Inline all dependencies during publish.\"}],\" This is what Iâ€™m increasingly seeing packages similar to Create React App do. For example, both \",[\"$\",\"$La\",null,{\"href\":\"https://unpkg.com/browse/vite@2.4.1/dist/node/\",\"children\":\"Vite\"}],\" and \",[\"$\",\"$La\",null,{\"href\":\"https://unpkg.com/browse/next@11.0.1/dist/\",\"children\":\"Next.js\"}],\" simply bundle their dependencies directly in the package instead of relying on the npm \",[\"$\",\"code\",null,{\"children\":\"node_modules\"}],\" mechanism. From a maintainerâ€™s point of view, \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/vitejs/vite/blob/main/CONTRIBUTING.md#notes-on-dependencies\",\"children\":\"the upsides are clear\"}],\": you get faster boot time, smaller downloads, and â€” as a nice bonus â€” no bogus vulnerability reports from your users. Itâ€™s a neat way to game the system but Iâ€™m worried about the incentives npm is creating for the ecosystem. Inlining dependencies kind of goes against the whole point of npm.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Offer some way to counter-claim vulnerability reports.\"}],\" The problem is not entirely unknown to Node.js and npm, of course. Different people have worked on different suggestions to fix it. For example, there is a \",[\"$\",\"$La\",null,{\"href\":\"https://github.com/npm/rfcs/pull/18\",\"children\":\"proposal\"}],\" for a way to manually resolve audit warnings so that they donâ€™t display again. However, this still places the burden on app users, which donâ€™t necessarily have context on what vulnerabilities deeper in the tree are real or bogus. I also have a \",[\"$\",\"$La\",null,{\"href\":\"https://twitter.com/dan_abramov/status/1412380714012594178\",\"children\":\"proposal\"}],\": I need a way to mark for my users that a certain vulnerability canâ€™t possibly affect them. If you donâ€™t trust my judgement, why are you running my code on your computer? Iâ€™d be happy to discuss other options too.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The root of the issue is that npm added a default behavior that, in many situations, leads to a 99%+ false positive rate, creates an incredibly confusing first programming experience, makes people fight with security departments, makes maintainers never want to deal with Node.js ecosystem ever again, and at some point will lead to actually bad vulnerabilities slipping in unnnoticed.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Something has to be done.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"In the meantime, I am planning to close all GitHub issues from \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" that I see going forward that donâ€™t correspond to a \",[\"$\",\"em\",null,{\"children\":\"real\"}],\" vulnerability that can affect the project. I invite other maintainers to adopt the same policy. This will create frustration for our users, but the core of the issue is with npm. I am done with this security theater. Node.js/npm have all the power to fix the problem. I am in contact with them, and I hope to see this problem prioritized.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Today, \",[\"$\",\"code\",null,{\"children\":\"npm audit\"}],\" is broken by design.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Beginners, experienced developers, maintainers, security departments, and, most importantly â€” our users â€” deserve better.\"}]]\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"npm audit: Broken by Design â€” overreacted\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Found 99 vulnerabilities (84 moderately irrelevant, 15 highly irrelevant)\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/icon.png?e0852c1e2c7f0e65\",\"type\":\"image/png\",\"sizes\":\"329x329\"}]]\nd:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>